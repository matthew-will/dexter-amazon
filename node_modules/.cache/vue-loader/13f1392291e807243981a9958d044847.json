{"remainingRequest":"/Users/mattwill/Code/dexter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mattwill/Code/dexter/src/components/Video.vue?vue&type=style&index=0&id=05e344ff&scoped=true&lang=css&","dependencies":[{"path":"/Users/mattwill/Code/dexter/src/components/Video.vue","mtime":1632260503414},{"path":"/Users/mattwill/Code/dexter/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52aWRlby1vdXRlciB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIGhlaWdodDogMTAwdmg7CiAgd2lkdGg6IDEwMHZ3Owp9CnZpZGVvIHsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CiAgb2JqZWN0LWZpdDogY292ZXI7Cn0KCiNjb250YWluZXIgewogIGhlaWdodDogNjAwMHZoOwp9CgouY3RhIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgYm90dG9tOiAxMHZoOwogIHotaW5kZXg6IDEwMTsKICBkaXNwbGF5OiBmbGV4OwoKICB3aWR0aDogMTAwdnc7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQouYnV0dG9uIHsKICBiYWNrZ3JvdW5kOiAjYWQwNzFjOwogIHBhZGRpbmc6IDIwcHggMzBweDsKICB3aWR0aDogYXV0bzsKICBjb2xvcjogd2hpdGU7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBtYXJnaW46IDEwcHg7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAyNTBtczsKICBjdXJzb3I6IHBvaW50ZXI7CiAgb3BhY2l0eTogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7Cn0KLmJ1dHRvbjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzg1MDUxNjsKfQpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgLmN0YSB7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIH0KICAuYnV0dG9uIHsKICAgIHdpZHRoOiA3MCU7CiAgfQogICNjb250YWluZXIgewogICAgaGVpZ2h0OiAzMDB2aDsKICB9Cn0K"},{"version":3,"sources":["Video.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Video.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"cta\">\n      <div class=\"button\">Launch AR Filter</div>\n      <div class=\"button\">Watch the first Episode</div>\n      <div class=\"button\">Join Showtime</div>\n    </div>\n    <div class=\"video-outer\">\n      <video\n        :src=\"`/dexter${video}.mp4`\"\n        playsinline\n        muted\n        class=\"video-background\"\n      ></video>\n    </div>\n\n    <div id=\"container\"></div>\n  </div>\n</template>\n\n<script>\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default {\n  name: \"Video\",\n  data() {\n    return {\n      video: \"\",\n    };\n  },\n  mounted() {\n    this.scrollTrigger();\n    this.video = document.querySelector(\".video-background\");\n    if (window.innerWidth < 600) {\n      this.video = \"-mobile\";\n    } else {\n      this.video = \"\";\n    }\n  },\n  methods: {\n    scrollTrigger() {\n      /* The encoding is super important here to enable frame-by-frame scrubbing. */\n\n      // ffmpeg -i ~/Downloads/Toshiba\\ video/original.mov -movflags faststart -vcodec libx264 -crf 23 -g 1 -pix_fmt yuv420p output.mp4\n      // ffmpeg -i ~/Downloads/Toshiba\\ video/original.mov -vf scale=960:-1 -movflags faststart -vcodec libx264 -crf 20 -g 1 -pix_fmt yuv420p output_960.mp4\n\n      const video = document.querySelector(\".video-background\");\n\n      /* Make sure the video is 'activated' on iOS */\n      function once(el, event, fn, opts) {\n        var onceFn = function() {\n          el.removeEventListener(event, onceFn);\n          fn.apply(this, arguments);\n        };\n        el.addEventListener(event, onceFn, opts);\n        return onceFn;\n      }\n\n      once(document.documentElement, \"touchstart\", function() {\n        video.play();\n        video.pause();\n      });\n\n      /* ---------------------------------- */\n      /* Scroll Control! */\n\n      let tl = gsap.timeline({\n        defaults: { duration: 1 },\n        scrollTrigger: {\n          trigger: \"#container\",\n          start: \"top top\",\n          end: \"bottom bottom\",\n          scrub: true,\n          onLeave: () => {\n            gsap.to(\".button\", {\n              y: 0,\n              duration: 1.25,\n              autoAlpha: 1,\n              stagger: 0.2,\n              ease: \"Expo.inOut\",\n            });\n          },\n          onEnterBack: () => {\n            console.log(\"leave back\");\n            gsap.to(\".button\", {\n              y: 20,\n              duration: 1,\n              autoAlpha: 0,\n              stagger: -0.2,\n              ease: \"Expo.inOut\",\n            });\n          },\n        },\n      });\n\n      once(video, \"loadedmetadata\", () => {\n        tl.fromTo(\n          video,\n          {\n            currentTime: 0,\n          },\n          {\n            currentTime: video.duration || 1,\n          }\n        );\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.video-outer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n}\nvideo {\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n}\n\n#container {\n  height: 6000vh;\n}\n\n.cta {\n  position: fixed;\n  bottom: 10vh;\n  z-index: 101;\n  display: flex;\n\n  width: 100vw;\n  justify-content: center;\n  align-items: center;\n}\n.button {\n  background: #ad071c;\n  padding: 20px 30px;\n  width: auto;\n  color: white;\n  text-transform: uppercase;\n  margin: 10px;\n  transition: background 250ms;\n  cursor: pointer;\n  opacity: 0;\n  transform: translateY(20px);\n}\n.button:hover {\n  background: #850516;\n}\n@media only screen and (max-width: 600px) {\n  .cta {\n    flex-direction: column;\n  }\n  .button {\n    width: 70%;\n  }\n  #container {\n    height: 300vh;\n  }\n}\n</style>\n"]}]}