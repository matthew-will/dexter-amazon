{"remainingRequest":"/Users/mattwill/Code/dexter/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mattwill/Code/dexter/src/components/Video.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mattwill/Code/dexter/src/components/Video.vue","mtime":1632281682648},{"path":"/Users/mattwill/Code/dexter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mattwill/Code/dexter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mattwill/Code/dexter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdzYXAgfSBmcm9tICJnc2FwIjsKaW1wb3J0IHsgU2Nyb2xsVHJpZ2dlciB9IGZyb20gImdzYXAvU2Nyb2xsVHJpZ2dlciI7Cgpnc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWaWRlbyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpZGVvOiAiIiwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGxUcmlnZ2VyKCk7CiAgICBnc2FwLnRvKCIubGFuZGluZyIsIHsgYXV0b0FscGhhOiAxLCBkdXJhdGlvbjogMSB9KTsKICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDYwMCkgewogICAgICB0aGlzLnZpZGVvID0gIi1tb2JpbGUiOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy52aWRlbyA9ICIiOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsVHJpZ2dlcigpIHsKICAgICAgLyogVGhlIGVuY29kaW5nIGlzIHN1cGVyIGltcG9ydGFudCBoZXJlIHRvIGVuYWJsZSBmcmFtZS1ieS1mcmFtZSBzY3J1YmJpbmcuICovCgogICAgICAvLyBmZm1wZWcgLWkgKmluc2VydCBmaWxlIG5hbWUqIC1tb3ZmbGFncyBmYXN0c3RhcnQgLXZjb2RlYyBsaWJ4MjY0IC1jcmYgMjMgLWcgMSAtcGl4X2ZtdCB5dXY0MjBwIG91dHB1dC5tcDQKICAgICAgLy8gZmZtcGVnIC1pICppbnNlcnQgZmlsZSBuYW1lKiAtdmYgc2NhbGU9OTYwOi0xIC1tb3ZmbGFncyBmYXN0c3RhcnQgLXZjb2RlYyBsaWJ4MjY0IC1jcmYgMjAgLWcgMSAtcGl4X2ZtdCB5dXY0MjBwIG91dHB1dF85NjAubXA0CgogICAgICBsZXQgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwoKICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSh7CiAgICAgICAgZGVmYXVsdHM6IHsgZHVyYXRpb246IDEgfSwKICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7CiAgICAgICAgICB0cmlnZ2VyOiAiI2NvbnRhaW5lciIsCiAgICAgICAgICBzdGFydDogInRvcCB0b3AiLAogICAgICAgICAgZW5kOiAiOTAlIDkwJSIsCiAgICAgICAgICBzY3J1YjogdHJ1ZSwKICAgICAgICAgIG9uRW50ZXI6ICgpID0+IHsKICAgICAgICAgICAgZ3NhcC50bygiLmxhbmRpbmciLCB7IGF1dG9BbHBoYTogMCwgZHVyYXRpb246IDEsIHNjYWxlOiAwLjk1IH0pOwogICAgICAgICAgfSwKICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHsKICAgICAgICAgICAgZ3NhcC50bygiLmJ1dHRvbiIsIHsKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxLjI1LAogICAgICAgICAgICAgIGF1dG9BbHBoYTogMSwKICAgICAgICAgICAgICBzdGFnZ2VyOiAwLjIsCiAgICAgICAgICAgICAgZWFzZTogIkV4cG8uaW5PdXQiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkVudGVyQmFjazogKCkgPT4gewogICAgICAgICAgICBnc2FwLnRvKCIuYnV0dG9uIiwgewogICAgICAgICAgICAgIHk6IDIwLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjc1LAogICAgICAgICAgICAgIGF1dG9BbHBoYTogMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHsKICAgICAgICAgICAgZ3NhcC50bygiLmxhbmRpbmciLCB7IGF1dG9BbHBoYTogMSwgZHVyYXRpb246IDAuNzUsIHNjYWxlOiAxIH0pOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KTsKCiAgICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSBmdW5jdGlvbigpIHsKICAgICAgICBjb25zb2xlLmxvZyh2aWRlby5kdXJhdGlvbik7CiAgICAgICAgdGwudG8odmlkZW8sIHsgY3VycmVudFRpbWU6IHZpZGVvLmR1cmF0aW9uIC0gMSB9KTsKICAgICAgfTsKCiAgICAgIC8vIERlYWxpbmcgd2l0aCBkZXZpY2VzCiAgICAgIGZ1bmN0aW9uIGlzVG91Y2hEZXZpY2UoKSB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICJvbnRvdWNoc3RhcnQiIGluIHdpbmRvdyB8fAogICAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fAogICAgICAgICAgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwCiAgICAgICAgKTsKICAgICAgfQogICAgICBpZiAoaXNUb3VjaERldmljZSgpKSB7CiAgICAgICAgdmlkZW8ucGxheSgpOwogICAgICAgIHZpZGVvLnBhdXNlKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Video.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Video.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"landing\">\n      <img class=\"dexter-logo\" src=\"logo.png\" alt=\"Dexter Logo\" />\n      <div class=\"scroll-cta\">Scroll to Continue</div>\n    </div>\n\n    <div class=\"cta\">\n      <div class=\"button\">Launch AR Filter</div>\n      <div class=\"button\">Watch the first Episode</div>\n      <div class=\"button\">Join Showtime</div>\n    </div>\n    <div class=\"video-outer\">\n      <video\n        ref=\"video\"\n        :src=\"`/dexter${video}.mp4`\"\n        playsinline\n        muted\n        poster=\"poster.jpg\"\n        class=\"video-background\"\n      ></video>\n    </div>\n\n    <div id=\"container\"></div>\n  </div>\n</template>\n\n<script>\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default {\n  name: \"Video\",\n  data() {\n    return {\n      video: \"\",\n    };\n  },\n  mounted() {\n    this.scrollTrigger();\n    gsap.to(\".landing\", { autoAlpha: 1, duration: 1 });\n    if (window.innerWidth < 600) {\n      this.video = \"-mobile\";\n    } else {\n      this.video = \"\";\n    }\n  },\n  methods: {\n    scrollTrigger() {\n      /* The encoding is super important here to enable frame-by-frame scrubbing. */\n\n      // ffmpeg -i *insert file name* -movflags faststart -vcodec libx264 -crf 23 -g 1 -pix_fmt yuv420p output.mp4\n      // ffmpeg -i *insert file name* -vf scale=960:-1 -movflags faststart -vcodec libx264 -crf 20 -g 1 -pix_fmt yuv420p output_960.mp4\n\n      let video = document.querySelector(\"video\");\n\n      let tl = gsap.timeline({\n        defaults: { duration: 1 },\n        scrollTrigger: {\n          trigger: \"#container\",\n          start: \"top top\",\n          end: \"90% 90%\",\n          scrub: true,\n          onEnter: () => {\n            gsap.to(\".landing\", { autoAlpha: 0, duration: 1, scale: 0.95 });\n          },\n          onLeave: () => {\n            gsap.to(\".button\", {\n              y: 0,\n              duration: 1.25,\n              autoAlpha: 1,\n              stagger: 0.2,\n              ease: \"Expo.inOut\",\n            });\n          },\n          onEnterBack: () => {\n            gsap.to(\".button\", {\n              y: 20,\n              duration: 0.75,\n              autoAlpha: 0,\n            });\n          },\n          onLeaveBack: () => {\n            gsap.to(\".landing\", { autoAlpha: 1, duration: 0.75, scale: 1 });\n          },\n        },\n      });\n\n      video.onloadedmetadata = function() {\n        console.log(video.duration);\n        tl.to(video, { currentTime: video.duration - 1 });\n      };\n\n      // Dealing with devices\n      function isTouchDevice() {\n        return (\n          \"ontouchstart\" in window ||\n          navigator.maxTouchPoints > 0 ||\n          navigator.msMaxTouchPoints > 0\n        );\n      }\n      if (isTouchDevice()) {\n        video.play();\n        video.pause();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.video-outer,\n.landing {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n}\n.landing {\n  z-index: 101;\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\nvideo {\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n}\n\n#container {\n  height: 500vh;\n}\n\n.cta {\n  position: fixed;\n  bottom: 10vh;\n  z-index: 101;\n  display: flex;\n\n  width: 100vw;\n  justify-content: center;\n  align-items: center;\n}\n.button {\n  background: #ad071c;\n  padding: 20px 30px;\n  width: auto;\n  color: white;\n  text-transform: uppercase;\n  margin: 10px;\n  transition: background 250ms;\n  cursor: pointer;\n  opacity: 0;\n  transform: translateY(20px);\n}\n.button:hover {\n  background: #850516;\n}\n.dexter-logo {\n  width: 50%;\n  margin-bottom: 10vh;\n}\n.scroll-cta {\n  background: #ad071c;\n  padding: 20px 30px;\n  width: auto;\n  color: white;\n  text-transform: uppercase;\n}\n@media only screen and (max-width: 600px) {\n  .cta {\n    flex-direction: column;\n  }\n  .button {\n    width: 70%;\n  }\n  #container {\n    height: 1000vh;\n  }\n  .dexter-logo {\n    width: 95%;\n    margin-bottom: 15vh;\n    margin-top: 15vh;\n  }\n}\n</style>\n"]}]}